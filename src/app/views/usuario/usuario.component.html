<c-card class="my-4">
  <c-card-body class="p-4">
    <c-row>
      <c-col sm="12">
        <h4 class="card-title mb-0">Listado de Usuarios</h4>
      </c-col>
    </c-row>
    <c-row class="my-2">
      <p-button label="Crear usuario" icon="pi pi-plus"></p-button>
    </c-row>

    <ng-container *ngIf="(usuarios$ | async) as usuarios" class="p-4">
      <c-row *ngIf="usuarios.length > 0; else noData">
        <p-table [value]="usuarios" [tableStyle]="{ 'min-width': '50rem' }" class="p-4">
          <ng-template pTemplate="header">
            <tr>
              <th>Número</th>
              <th>Nombre</th>
              <th>Apellido Paterno</th>
              <th>Apellido Materno</th>
              <th>Usuario</th>
              <th>Fecha Creación</th>
              <th>Fecha Cese</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-usuario let-i="rowIndex">
            <tr class="table-ng">
              <td>{{ i + 1 }}</td>
              <td>{{ usuario.nombres }}</td>
              <td>{{ usuario.ape_paterno }}</td>
              <td>{{ usuario.ape_materno }}</td>
              <td>{{ usuario.usuario }}</td>
              <td>{{ usuario.fecha_creacion | date:'shortDate' }}</td>
              <td>{{ usuario.fecha_cese ? (usuario.fecha_cese | date:'shortDate') : 'N/A' }}</td>
              <td>{{ usuario.estado === 1 ? 'Activo' : 'Inactivo' }}</td>
              <td class=" d-flex gap-2">
                <p-button severity="success" icon="pi pi-eye" class="p-button-sm"></p-button>
                <p-button severity="info" icon="pi pi-pencil" class="p-button-sm"></p-button>
                <p-button severity="danger" icon="pi pi-trash" class="p-button-sm"></p-button>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </c-row>

      <ng-template #noData>
        <p>No se encontraron usuarios.</p>
      </ng-template>
    </ng-container>

  </c-card-body>
</c-card>